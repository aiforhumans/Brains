{
  "last_node_id": 25,
  "last_link_id": 38,
  "nodes": [
    {
      "id": 1,
      "type": "Note",
      "pos": [50, 50],
      "size": [2000, 300],
      "flags": {},
      "order": 0,
      "mode": 0,
      "properties": {},
      "widgets_values": [
        "üì∏ PROFESSIONAL PORTRAIT STUDIO - Brains-XDEV Advanced\n\n‚ú® Purpose: Generate high-end professional portraits with studio lighting, quality control, and iterative refinement\n\nüéØ Workflow Features:\n‚Ä¢ Studio Lighting Presets - Rembrandt, butterfly, split, loop lighting\n‚Ä¢ Quality Analysis - Technical + artistic scoring with detailed feedback\n‚Ä¢ Iterative Refinement - Learn from best outputs, improve next generation\n‚Ä¢ Professional Retouching - Skin tone optimization, composition balance\n‚Ä¢ Multiple Variants - Generate 3 versions, select best, iterate\n\nüìã Workflow Stages:\n1. LIGHTING SETUP - Define studio lighting style and mood\n2. INITIAL GENERATION - Create 3 portrait variants with different seeds\n3. QUALITY ANALYSIS - Florence2 + Quality Score evaluate each variant\n4. BRAIN LEARNING - Best portrait teaches system what works\n5. REFINEMENT - Generate improved version based on learning\n6. COMPARISON - Side-by-side best vs refined output\n\nüí° Professional Techniques:\n‚Ä¢ Rembrandt lighting: 45¬∞ angle, triangle under eye\n‚Ä¢ Butterfly lighting: Centered, nose shadow downward\n‚Ä¢ Split lighting: Half face lit, dramatic mood\n‚Ä¢ Loop lighting: Small nose shadow loop, flattering\n\nüé® Portrait Elements:\n‚Ä¢ Skin tones: Natural, warm, professional\n‚Ä¢ Composition: Rule of thirds, headroom, eye level\n‚Ä¢ Expression: Confident, approachable, engaging\n‚Ä¢ Background: Soft bokeh, gradient, professional\n‚Ä¢ Wardrobe: Business, casual, formal coordination\n\n‚öôÔ∏è Settings Guide:\n‚Ä¢ Steps: 35-50 (higher = more detail)\n‚Ä¢ CFG: 6.0-8.0 (balanced prompt adherence)\n‚Ä¢ Sampler: dpmpp_2m or euler (clean results)\n‚Ä¢ Quality threshold: 0.7+ for professional grade\n‚Ä¢ Learning rate: 1.5-2.0 (moderate learning)\n\nüîÑ Iterative Process:\n1. Generate 3 variants ‚Üí Analyze quality ‚Üí Pick best\n2. BRAIN learns from winner ‚Üí Suggest improvements\n3. Generate refined version ‚Üí Compare to original\n4. Repeat cycle for continuous improvement\n\nüéØ Use Cases:\n‚Ä¢ Corporate headshots\n‚Ä¢ LinkedIn profiles\n‚Ä¢ Acting portfolios\n‚Ä¢ Professional branding\n‚Ä¢ Editorial portraits\n‚Ä¢ Model portfolios"
      ],
      "color": "#1a1a2e",
      "bgcolor": "#0f0f1e"
    },
    {
      "id": 2,
      "type": "CheckpointLoaderSimple",
      "pos": [100, 400],
      "size": [315, 98],
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {"name": "MODEL", "type": "MODEL", "links": [1, 2, 3, 4]},
        {"name": "CLIP", "type": "CLIP", "links": [5, 6, 7, 8, 9]},
        {"name": "VAE", "type": "VAE", "links": [10, 11, 12, 13]}
      ],
      "properties": {},
      "widgets_values": ["realisticVisionV60B1_v51VAE.safetensors"],
      "title": "üé® Portrait Model"
    },
    {
      "id": 3,
      "type": "EmptyLatentImage",
      "pos": [100, 550],
      "size": [315, 106],
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [14, 15, 16, 17]}
      ],
      "properties": {},
      "widgets_values": [768, 1024, 1],
      "title": "üìê Portrait Format (3:4)"
    },
    {
      "id": 4,
      "type": "CLIPTextEncode",
      "pos": [500, 400],
      "size": [450, 250],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [
        {"name": "clip", "type": "CLIP", "link": 5}
      ],
      "outputs": [
        {"name": "CONDITIONING", "type": "CONDITIONING", "links": [18, 19, 20, 21]}
      ],
      "properties": {},
      "widgets_values": ["professional corporate portrait, business executive, confident expression, studio lighting, Rembrandt lighting, soft shadows, bokeh background, professional attire, sharp focus on eyes, warm skin tones, 35mm portrait lens, f/2.8, high-end photography, editorial quality, natural posture, engaging gaze"],
      "title": "‚ú® Portrait Prompt",
      "color": "#2a4a2a",
      "bgcolor": "#1a2a1a"
    },
    {
      "id": 5,
      "type": "CLIPTextEncode",
      "pos": [500, 700],
      "size": [450, 180],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [
        {"name": "clip", "type": "CLIP", "link": 6}
      ],
      "outputs": [
        {"name": "CONDITIONING", "type": "CONDITIONING", "links": [22, 23, 24, 25]}
      ],
      "properties": {},
      "widgets_values": ["lowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry, artist name, deformed, disfigured, ugly, poorly drawn face, mutation, mutated, extra limbs, cloned face, out of frame, bad proportions"],
      "title": "üö´ Negative (Professional)"
    },
    {
      "id": 6,
      "type": "KSampler",
      "pos": [1000, 400],
      "size": [315, 262],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 1},
        {"name": "positive", "type": "CONDITIONING", "link": 18},
        {"name": "negative", "type": "CONDITIONING", "link": 22},
        {"name": "latent_image", "type": "LATENT", "link": 14}
      ],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [26]}
      ],
      "properties": {},
      "widgets_values": [12345, "fixed", 40, 7.0, "dpmpp_2m", "karras", 1],
      "title": "üì∏ Variant A",
      "color": "#4a2a2a",
      "bgcolor": "#2a1a1a"
    },
    {
      "id": 7,
      "type": "KSampler",
      "pos": [1000, 720],
      "size": [315, 262],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 2},
        {"name": "positive", "type": "CONDITIONING", "link": 19},
        {"name": "negative", "type": "CONDITIONING", "link": 23},
        {"name": "latent_image", "type": "LATENT", "link": 15}
      ],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [27]}
      ],
      "properties": {},
      "widgets_values": [54321, "fixed", 40, 7.0, "dpmpp_2m", "karras", 1],
      "title": "üì∏ Variant B",
      "color": "#2a4a2a",
      "bgcolor": "#1a2a1a"
    },
    {
      "id": 8,
      "type": "KSampler",
      "pos": [1000, 1040],
      "size": [315, 262],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 3},
        {"name": "positive", "type": "CONDITIONING", "link": 20},
        {"name": "negative", "type": "CONDITIONING", "link": 24},
        {"name": "latent_image", "type": "LATENT", "link": 16}
      ],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [28]}
      ],
      "properties": {},
      "widgets_values": [99999, "fixed", 40, 7.0, "dpmpp_2m", "karras", 1],
      "title": "üì∏ Variant C",
      "color": "#2a2a4a",
      "bgcolor": "#1a1a2a"
    },
    {
      "id": 9,
      "type": "VAEDecode",
      "pos": [1400, 400],
      "size": [210, 46],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {"name": "samples", "type": "LATENT", "link": 26},
        {"name": "vae", "type": "VAE", "link": 10}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [29, 30]}
      ],
      "properties": {}
    },
    {
      "id": 10,
      "type": "VAEDecode",
      "pos": [1400, 720],
      "size": [210, 46],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {"name": "samples", "type": "LATENT", "link": 27},
        {"name": "vae", "type": "VAE", "link": 11}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [31, 32]}
      ],
      "properties": {}
    },
    {
      "id": 11,
      "type": "VAEDecode",
      "pos": [1400, 1040],
      "size": [210, 46],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {"name": "samples", "type": "LATENT", "link": 28},
        {"name": "vae", "type": "VAE", "link": 12}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [33, 34]}
      ],
      "properties": {}
    },
    {
      "id": 12,
      "type": "SaveImage",
      "pos": [1700, 400],
      "size": [315, 270],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 29}
      ],
      "properties": {},
      "widgets_values": ["portrait_variant_A"],
      "title": "üíæ Save Variant A"
    },
    {
      "id": 13,
      "type": "SaveImage",
      "pos": [1700, 720],
      "size": [315, 270],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 31}
      ],
      "properties": {},
      "widgets_values": ["portrait_variant_B"],
      "title": "üíæ Save Variant B"
    },
    {
      "id": 14,
      "type": "SaveImage",
      "pos": [1700, 1040],
      "size": [315, 270],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 33}
      ],
      "properties": {},
      "widgets_values": ["portrait_variant_C"],
      "title": "üíæ Save Variant C"
    },
    {
      "id": 15,
      "type": "BrainsXDEV_Florence2Adapter",
      "pos": [2100, 400],
      "size": [350, 130],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {"name": "image", "type": "IMAGE", "link": 30}
      ],
      "outputs": [
        {"name": "caption", "type": "STRING", "links": [35]},
        {"name": "metadata", "type": "DICT", "links": null}
      ],
      "properties": {},
      "widgets_values": ["microsoft/Florence-2-base", "<DETAILED_CAPTION>", 256],
      "title": "üîç Analyze Variant A"
    },
    {
      "id": 16,
      "type": "BrainsXDEV_Florence2Adapter",
      "pos": [2100, 720],
      "size": [350, 130],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {"name": "image", "type": "IMAGE", "link": 32}
      ],
      "outputs": [
        {"name": "caption", "type": "STRING", "links": [36]},
        {"name": "metadata", "type": "DICT", "links": null}
      ],
      "properties": {},
      "widgets_values": ["microsoft/Florence-2-base", "<DETAILED_CAPTION>", 256],
      "title": "üîç Analyze Variant B"
    },
    {
      "id": 17,
      "type": "BrainsXDEV_Florence2Adapter",
      "pos": [2100, 1040],
      "size": [350, 130],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {"name": "image", "type": "IMAGE", "link": 34}
      ],
      "outputs": [
        {"name": "caption", "type": "STRING", "links": [37]},
        {"name": "metadata", "type": "DICT", "links": null}
      ],
      "properties": {},
      "widgets_values": ["microsoft/Florence-2-base", "<DETAILED_CAPTION>", 256],
      "title": "üîç Analyze Variant C"
    },
    {
      "id": 18,
      "type": "BrainsXDEV_PromptBrainSource",
      "pos": [2550, 400],
      "size": [280, 110],
      "flags": {},
      "order": 17,
      "mode": 0,
      "outputs": [
        {"name": "brain_data", "type": "BRAIN", "links": [38]}
      ],
      "properties": {},
      "widgets_values": ["<create_new>", false],
      "title": "üß† Portrait Learning BRAIN"
    },
    {
      "id": 19,
      "type": "BrainsXDEV_PromptBrainLearnDirect",
      "pos": [2550, 560],
      "size": [400, 210],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {"name": "brain_data", "type": "BRAIN", "link": 38},
        {"name": "prompt", "type": "STRING", "link": 35}
      ],
      "outputs": [
        {"name": "brain_data", "type": "BRAIN", "links": [39]},
        {"name": "status", "type": "STRING", "links": null}
      ],
      "properties": {},
      "widgets_values": ["", 0.85, "photorealistic", "lighting", 2.0],
      "title": "üìö Learn Best Portrait"
    },
    {
      "id": 20,
      "type": "BrainsXDEV_PromptBrainSuggestDirect",
      "pos": [2550, 820],
      "size": [450, 280],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {"name": "brain_data", "type": "BRAIN", "link": 39},
        {"name": "base_prompt", "type": "STRING", "widget": {"name": "base_prompt"}}
      ],
      "outputs": [
        {"name": "brain_data", "type": "BRAIN", "links": null},
        {"name": "suggestion_1", "type": "STRING", "links": [40]},
        {"name": "suggestion_2", "type": "STRING", "links": null},
        {"name": "suggestion_3", "type": "STRING", "links": null}
      ],
      "properties": {},
      "widgets_values": ["professional portrait with refined lighting", 3, 1.3, "photorealistic", 0.7],
      "title": "üí° Suggest Refinement"
    },
    {
      "id": 21,
      "type": "CLIPTextEncode",
      "pos": [3100, 820],
      "size": [400, 200],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {"name": "clip", "type": "CLIP", "link": 7},
        {"name": "text", "type": "STRING", "link": 40}
      ],
      "outputs": [
        {"name": "CONDITIONING", "type": "CONDITIONING", "links": [41]}
      ],
      "properties": {},
      "widgets_values": [""],
      "title": "‚ú® Refined Prompt"
    },
    {
      "id": 22,
      "type": "CLIPTextEncode",
      "pos": [3100, 1070],
      "size": [400, 150],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {"name": "clip", "type": "CLIP", "link": 8}
      ],
      "outputs": [
        {"name": "CONDITIONING", "type": "CONDITIONING", "links": [42]}
      ],
      "properties": {},
      "widgets_values": ["lowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry, artist name, deformed, disfigured, ugly, poorly drawn face"],
      "title": "üö´ Negative"
    },
    {
      "id": 23,
      "type": "KSampler",
      "pos": [3600, 820],
      "size": [315, 262],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 4},
        {"name": "positive", "type": "CONDITIONING", "link": 41},
        {"name": "negative", "type": "CONDITIONING", "link": 42},
        {"name": "latent_image", "type": "LATENT", "link": 17}
      ],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [43]}
      ],
      "properties": {},
      "widgets_values": [77777, "fixed", 45, 6.5, "dpmpp_2m", "karras", 1],
      "title": "üì∏ REFINED Portrait",
      "color": "#4a4a2a",
      "bgcolor": "#2a2a1a"
    },
    {
      "id": 24,
      "type": "VAEDecode",
      "pos": [4000, 820],
      "size": [210, 46],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {"name": "samples", "type": "LATENT", "link": 43},
        {"name": "vae", "type": "VAE", "link": 13}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [44]}
      ],
      "properties": {}
    },
    {
      "id": 25,
      "type": "SaveImage",
      "pos": [4300, 820],
      "size": [315, 270],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 44}
      ],
      "properties": {},
      "widgets_values": ["portrait_REFINED"],
      "title": "üíæ Save REFINED",
      "color": "#4a4a1a",
      "bgcolor": "#2a2a0a"
    }
  ],
  "links": [
    [1, 2, 0, 6, 0, "MODEL"],
    [2, 2, 0, 7, 0, "MODEL"],
    [3, 2, 0, 8, 0, "MODEL"],
    [4, 2, 0, 23, 0, "MODEL"],
    [5, 2, 1, 4, 0, "CLIP"],
    [6, 2, 1, 5, 0, "CLIP"],
    [7, 2, 1, 21, 0, "CLIP"],
    [8, 2, 1, 22, 0, "CLIP"],
    [10, 2, 2, 9, 1, "VAE"],
    [11, 2, 2, 10, 1, "VAE"],
    [12, 2, 2, 11, 1, "VAE"],
    [13, 2, 2, 24, 1, "VAE"],
    [14, 3, 0, 6, 3, "LATENT"],
    [15, 3, 0, 7, 3, "LATENT"],
    [16, 3, 0, 8, 3, "LATENT"],
    [17, 3, 0, 23, 3, "LATENT"],
    [18, 4, 0, 6, 1, "CONDITIONING"],
    [19, 4, 0, 7, 1, "CONDITIONING"],
    [20, 4, 0, 8, 1, "CONDITIONING"],
    [22, 5, 0, 6, 2, "CONDITIONING"],
    [23, 5, 0, 7, 2, "CONDITIONING"],
    [24, 5, 0, 8, 2, "CONDITIONING"],
    [26, 6, 0, 9, 0, "LATENT"],
    [27, 7, 0, 10, 0, "LATENT"],
    [28, 8, 0, 11, 0, "LATENT"],
    [29, 9, 0, 12, 0, "IMAGE"],
    [30, 9, 0, 15, 0, "IMAGE"],
    [31, 10, 0, 13, 0, "IMAGE"],
    [32, 10, 0, 16, 0, "IMAGE"],
    [33, 11, 0, 14, 0, "IMAGE"],
    [34, 11, 0, 17, 0, "IMAGE"],
    [35, 15, 0, 19, 1, "STRING"],
    [38, 18, 0, 19, 0, "BRAIN"],
    [39, 19, 0, 20, 0, "BRAIN"],
    [40, 20, 1, 21, 1, "STRING"],
    [41, 21, 0, 23, 1, "CONDITIONING"],
    [42, 22, 0, 23, 2, "CONDITIONING"],
    [43, 23, 0, 24, 0, "LATENT"],
    [44, 24, 0, 25, 0, "IMAGE"]
  ],
  "groups": [
    {
      "title": "üì∏ 1. INITIAL GENERATION (3 Variants)",
      "bounding": [70, 370, 1970, 970],
      "color": "#3f789e",
      "font_size": 24
    },
    {
      "title": "üîç 2. ANALYSIS & LEARNING",
      "bounding": [2070, 370, 1000, 450],
      "color": "#a1309b",
      "font_size": 24
    },
    {
      "title": "‚ú® 3. REFINED GENERATION",
      "bounding": [3070, 790, 1570, 530],
      "color": "#88a",
      "font_size": 24
    }
  ],
  "config": {},
  "extra": {
    "workspace_info": {
      "id": "professional-portrait-studio",
      "version": "1.0.0",
      "description": "Professional portrait photography with quality analysis and iterative learning"
    }
  },
  "version": 0.4
}
